import{b as C,w as b,a as F,j as t,G as y,B as a,T as n,s as v,r as s,o as S,Q as T,U as W}from"./index-CsrR-wrF.js";/* empty css                 */import{D as N}from"./DragIndicatorOutlined-BL0rqD24.js";const g=({inspectorCases:h,isCasePool:o=!1})=>{const i=C(),d=b("(min-width:600px)"),x=F(),u=(e,c)=>{x("/cases/details",{state:{entityInformation:c,isCasePool:o}})},r=e=>e==null?void 0:e.toLowerCase().split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ");return t.jsx(t.Fragment,{children:h==null?void 0:h.map(e=>{var c,p;return t.jsxs(y,{size:12,container:!0,sx:{border:`1px solid ${i.palette.colors[4]}`,borderRadius:"0px",backgroundColor:"#FFFFFF",opacity:1,cursor:"pointer",height:"120px",mb:d?2:0},onClick:m=>{u(m,e)},children:[t.jsx(y,{size:.5,children:t.jsx(a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{borderRadius:"10px 0px 0px 10px",opacity:1,width:"16px",height:"120px",ml:"6px"},children:t.jsx(N,{})})}),t.jsx(y,{size:11.5,children:t.jsxs(a,{display:"flex",p:"20px",width:"96%",ml:"10px",flexDirection:"column",sx:{"& .MuiTypography-root":{fontSize:"12px"}},children:[t.jsxs(a,{display:"flex",width:"96%",gap:"30px",children:[t.jsxs(a,{sx:{borderWidth:"0px 0px 0px 3px",borderColor:"#D54B4B",borderStyle:"solid",borderRadius:"4px",pl:1,width:"25%"},children:[t.jsx(n,{color:i.palette.colors[21],children:"Due Date"}),t.jsxs(n,{color:i.palette.colors[6],fontWeight:600,children:[new Date(e.due_date).getDate().toString().padStart(2,"0"),"  ",new Date(e.due_date).toLocaleString("default",{month:"short"})]})]}),t.jsxs(a,{sx:{width:"75%","& .MuiTypography-root":{fontSize:"14px"}},children:[t.jsx(n,{fontWeight:700,children:e.inspectionID}),t.jsx(n,{fontWeight:600,children:((c=e.name)==null?void 0:c.length)>20?((p=e==null?void 0:e.name)==null?void 0:p.slice(0,20))+"...":e==null?void 0:e.name})]})]}),t.jsxs(a,{display:"flex",width:"96%",gap:"30px",mt:"20px",children:[t.jsx(a,{sx:{width:"25%",marginTop:"3px"},children:t.jsxs(n,{color:i.palette.colors[21],children:["[",r(e.inspector_source),"]"]})}),t.jsxs(a,{sx:{width:"75%","& .MuiLinearProgress-root":{backgroundColor:`${i.palette.colors[4]}`}," .MuiLinearProgress-bar1":{backgroundColor:r(e.status)==="New"?"#2661BA":r(e.status)==="Pending"?"#D54B4B":r(e.status)==="In Progress"?"#4C8B92":r(e.status)==="Under Approval"?"#71924C":r(e.status)==="Re-Opened"?"#DC7C0B":"#4C8B92"},"& .MuiTypography-root":{color:r(e.status)==="New"?"#2661BA":r(e.status)==="Pending"?"#D54B4B":r(e.status)==="In Progress"?"#4C8B92":r(e.status)==="Under Approval"?"#71924C":r(e.status)==="Re-Opened"?"#DC7C0B":"#4C8B92"}},children:[t.jsx(n,{children:r(e.status)}),t.jsx(v,{variant:"determinate",value:r(e.status)==="New"?2:r(e.status)==="Pending"?40:r(e.status)==="In Progress"?50:r(e.status)==="Under Approval"?75:(r(e.status)==="Re-Opened",50)})]})]})]})})]},e.inspectionID)})})},P=()=>{const h=C(),o=s.useRef(new Date),i=s.useRef(new Date),d=s.useRef(new Date);s.useState([]);const[x,u]=s.useState([]),[r,e]=s.useState([]),[c,p]=s.useState([]);return s.useEffect(()=>{d.current.setDate(o.current.getDate()+1),i.current.setDate(o.current.getDate()-1)},[]),s.useEffect(()=>{(async()=>{var D,j,f;const w=`${new Date(o.current).getFullYear()}-${String(new Date(o.current).getMonth()+1).padStart(2,"0")}-${String(new Date(o.current).getDate()).padStart(2,"0")}`,l=await S({method:"get",url:`http://52.140.64.177:9090/getMycasesForInspectorDate/${localStorage.getItem("userEmail")}/${w}`});u((D=l==null?void 0:l.data)==null?void 0:D.Yesterday),e((j=l==null?void 0:l.data)==null?void 0:j.Today),p((f=l==null?void 0:l.data)==null?void 0:f.Tomorrow)})()},[]),t.jsx(t.Fragment,{children:t.jsxs(a,{display:"flex",flexDirection:"column",sx:{mt:1,overflow:"auto",scrollbarWidth:"none",pt:1,width:"100%",position:"absolute",backgroundColor:"#F2F6F6",pb:10},children:[t.jsxs(a,{children:[t.jsxs(n,{variant:"h5",fontWeight:600,mb:"12px",mt:14,ml:"20px",children:[new Date(i.current).getDate().toString().padStart(2,"0")," "," ",new Date(i.current).toLocaleString("default",{month:"short"}),"  |   Yesterday"]}),(x==null?void 0:x.length)>0?t.jsx(g,{inspectorCases:x}):t.jsx(n,{fontWeight:500,ml:"20px",children:"No cases available"})]}),t.jsxs(a,{children:[t.jsxs(n,{variant:"h5",fontWeight:600,color:h.palette.colors[11],mb:"12px",mt:"24px",ml:"20px",children:[new Date(o.current).getDate().toString().padStart(2,"0")," "," ",new Date(o.current).toLocaleString("default",{month:"short"}),"  |   Today"]}),(r==null?void 0:r.length)>0?t.jsx(g,{inspectorCases:r}):t.jsx(n,{fontWeight:500,ml:"20px",children:"No cases available"})]}),t.jsxs(a,{children:[t.jsxs(n,{variant:"h5",fontWeight:600,mb:"10px",mt:"24px",ml:"20px",children:[new Date(d.current).getDate().toString().padStart(2,"0")," "," ",new Date(d.current).toLocaleString("default",{month:"short"}),"  |   Tomorrow"]}),(c==null?void 0:c.length)>0?t.jsx(g,{inspectorCases:c}):t.jsx(n,{fontWeight:500,ml:"20px",children:"No cases available"})]})]})})},B=()=>{const h=C(),o=s.useRef(new Date),i=s.useRef(new Date),d=s.useRef(new Date);s.useState([]);const[x,u]=s.useState([]),[r,e]=s.useState([]),[c,p]=s.useState([]);return s.useEffect(()=>{d.current.setDate(o.current.getDate()+1),i.current.setDate(o.current.getDate()-1)},[]),s.useEffect(()=>{(async()=>{var D,j,f;const w=`${new Date(o.current).getFullYear()}-${String(new Date(o.current).getMonth()+1).padStart(2,"0")}-${String(new Date(o.current).getDate()).padStart(2,"0")}`,l=await S({method:"get",url:`http://52.140.64.177:9090/getInspectorPool/${w}`});u((D=l==null?void 0:l.data)==null?void 0:D.Yesterday),e((j=l==null?void 0:l.data)==null?void 0:j.Today),p((f=l==null?void 0:l.data)==null?void 0:f.Tomorrow)})()},[]),t.jsx(t.Fragment,{children:t.jsxs(a,{display:"flex",flexDirection:"column",sx:{mt:1,overflow:"auto",scrollbarWidth:"none",pt:1,width:"100%",position:"absolute"},children:[t.jsxs(a,{children:[t.jsxs(n,{variant:"h5",fontWeight:600,mb:"12px",mt:14,ml:"20px",children:[new Date(i.current).getDate().toString().padStart(2,"0")," "," ",new Date(i.current).toLocaleString("default",{month:"short"}),"  |   Yesterday"]}),(x==null?void 0:x.length)>0?t.jsx(g,{inspectorCases:x,isCasePool:!0}):t.jsx(n,{fontWeight:500,ml:"20px",children:"No cases available"})]}),t.jsxs(a,{children:[t.jsxs(n,{variant:"h5",fontWeight:600,color:h.palette.colors[11],mb:"12px",mt:"24px",ml:"20px",children:[new Date(o.current).getDate().toString().padStart(2,"0")," "," ",new Date(o.current).toLocaleString("default",{month:"short"}),"  |   Today"]}),(r==null?void 0:r.length)>0?t.jsx(g,{inspectorCases:r,isCasePool:!0}):t.jsx(n,{fontWeight:500,ml:"20px",children:"No cases available"})]}),t.jsxs(a,{children:[t.jsxs(n,{variant:"h5",fontWeight:600,mb:"12px",mt:"24px",ml:"20px",children:[new Date(d.current).getDate().toString().padStart(2,"0")," "," ",new Date(d.current).toLocaleString("default",{month:"short"}),"  |   Tomorrow"]}),(c==null?void 0:c.length)>0?t.jsx(g,{inspectorCases:c,isCasePool:!0}):t.jsx(n,{fontWeight:500,ml:"20px",children:"No cases available"})]})]})})},k=()=>{const[h,o]=s.useState(!0),[i,d]=s.useState(!1),{header:x,setHeader:u}=s.useContext(T);return s.useEffect(()=>{u("Cases")},[]),t.jsx(t.Fragment,{children:t.jsxs(a,{className:"casesContainer",children:[t.jsx(a,{className:"headingContainer",children:t.jsxs(a,{className:"caseHeading",children:[t.jsx(a,{className:"caseTabName",sx:{backgroundColor:h?"#4C8B92":"","& .MuiTypography-root":{color:h?"#FFFFFF":""}},onClick:()=>{o(!0),d(!1)},children:t.jsx(n,{fontWeight:600,variant:"h6",children:"My Cases"})}),t.jsx(a,{className:"caseTabName",sx:{backgroundColor:i?"#4C8B92":"","& .MuiTypography-root":{color:i?"#FFFFFF":""}},onClick:()=>{o(!1),d(!0)},children:t.jsx(n,{fontWeight:600,variant:"h6",children:"Inspector Pool"})})]})}),t.jsxs(a,{className:"casesInnerContainer",children:[h&&t.jsx(P,{}),i&&t.jsx(B,{})]}),t.jsx(W,{})]})})};export{k as default};
