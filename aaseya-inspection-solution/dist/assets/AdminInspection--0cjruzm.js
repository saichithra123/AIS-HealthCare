import{b as G,a as E,r,S as N,j as e,B as i,e as p,K as z,T as O,I as b,a1 as F,a2 as I,a3 as P,D as S,a4 as U,O as W,a5 as H,N as K,a6 as L,a7 as _,o as w}from"./index-CsrR-wrF.js";import{C as q,B as J}from"./BlockOutlined-CAsOTEjX.js";const Y=()=>{const a=G(),x=E(),[v,D]=r.useState([]),[u,y]=r.useState(1),[h,f]=r.useState(10),[R,B]=r.useState(0),[T,$]=r.useState(0),[A,g]=r.useState(!1),{snack:Q,setSnack:m}=r.useContext(N),[l,j]=r.useState([]),M=[{field:"name",headerName:"Inspection Type",flex:.5},{field:"skills",headerName:"Skills",flex:1,renderCell:t=>{var o,n;return e.jsx(e.Fragment,{children:(n=(o=t.row)==null?void 0:o.skills)==null?void 0:n.map(c=>e.jsx(_,{sx:{borderRadius:"4px",mr:1,height:"26px"},label:c},c))})}},{field:"isActive",headerName:"Status",flex:.3,renderCell:t=>{var o;return e.jsx(e.Fragment,{children:(o=t.row)!=null&&o.isActive?e.jsxs(e.Fragment,{children:[e.jsx(i,{sx:{display:"inline-block",width:"8px",height:"8px",borderRadius:"50%",background:"#03911A",mr:1}}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(i,{sx:{display:"inline-block",width:"8px",height:"8px",borderRadius:"50%",background:"#D54B4B",mr:1}}),"Inactive"]})})}},{field:"action",headerName:"Actions",flex:.2,renderCell:t=>e.jsx(p,{sx:{color:`${a.palette.colors[11]}`},onClick:()=>{var o;x("/configurations/inspection-type/add",{state:{inspectionTypeId:(o=t.row)==null?void 0:o.insTypeId}})},children:"Edit"})}],C=async()=>{var o,n,c,d,s;const t=await w({method:"get",url:`http://52.140.64.177:9090/getAllInspectionTypesWithSkills?page=${u-1}&size=${h}`});D((o=t==null?void 0:t.data)==null?void 0:o.content),y(((n=t==null?void 0:t.data)==null?void 0:n.number)+1),f((c=t==null?void 0:t.data)==null?void 0:c.size),B((d=t==null?void 0:t.data)==null?void 0:d.totalPages),$((s=t==null?void 0:t.data)==null?void 0:s.totalElements),g(!1)};r.useEffect(()=>{try{g(!0),C()}catch(t){console.log(t)}},[u,h]);const k=async t=>{var o,n,c,d;try{if((l==null?void 0:l.length)===0){m({open:!0,message:"No rows selected",severity:"error"});return}g(!0);const s=await w({method:"post",url:"http://52.140.64.177:9090/updateIsActive",data:{inputType:"Inspection_Type",action:t,ids:l}});((n=(o=s==null?void 0:s.data)==null?void 0:o.status)==null?void 0:n.toUpperCase())==="SUCCESS"?m({open:!0,message:(c=s==null?void 0:s.data)==null?void 0:c.message,severity:"success"}):m({open:!0,message:(d=s==null?void 0:s.data)==null?void 0:d.message,severity:"error"}),C(),j([])}catch(s){console.log(s)}};return e.jsx(e.Fragment,{children:e.jsxs(i,{sx:{borderRadius:"20px",background:`${a.palette.colors[2]} 0% 0% no-repeat padding-box`,my:2,mr:2,p:2.5,boxShadow:`inset 0px 0px 6px ${a.palette.colors[3]}`,opacity:1},children:[e.jsx(p,{sx:{color:a.palette.colors[21],fontSize:"14px",fontWeight:600},startIcon:e.jsx(z,{}),onClick:()=>x(-1),children:"Back"}),e.jsxs(i,{sx:{background:`${a.palette.colors[1]} 0% 0% no-repeat padding-box`,borderRadius:"10px",opacity:1},children:[e.jsxs(i,{sx:{py:2,px:2.5,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(O,{variant:"h4",fontWeight:600,children:"Inspection Type"}),e.jsxs(i,{sx:{display:"flex",gap:3},children:[e.jsx(b,{sx:{boxShadow:`0px 1px 6px ${a.palette.colors[3]}`,borderRadius:"50%",opacity:1,width:"40px",height:"40px"},children:e.jsx(F,{sx:{color:`${a.palette.colors[8]}`}})}),e.jsxs(i,{sx:{boxShadow:`0px 1px 6px ${a.palette.colors[3]}`,borderRadius:"20px",opacity:1,display:"flex",alignItems:"center",px:1},children:[e.jsx(I,{title:"Upload data as excel",children:e.jsx(b,{children:e.jsx(P,{sx:{color:`${a.palette.colors[8]}`}})})}),e.jsx(S,{orientation:"vertical",sx:{height:"25px"}}),e.jsx(I,{title:"Download data as excel",children:e.jsx(b,{children:e.jsx(U,{sx:{color:`${a.palette.colors[8]}`}})})})]}),e.jsx(p,{onClick:()=>x("/configurations/inspection-type/add"),variant:"contained",startIcon:e.jsx(W,{}),sx:{backgroundColor:`${a.palette.colors[11]}`,color:"#ffffff",borderRadius:"20px",width:"150px",height:"40px","&:hover":{backgroundColor:a.palette.colors[11]}},children:"Add New"})]})]}),e.jsx(S,{}),l.length>0&&e.jsxs(i,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:2,px:2,py:1.7,mt:2,mx:2.5,borderRadius:"10px 10px 0px 0px",backgroundColor:`${a.palette.colors[18]}`,".MuiButtonBase-root":{backgroundColor:"#EBEBEB",borderRadius:"6px",color:"#00060A",px:3}},children:[e.jsx(p,{size:"small",startIcon:e.jsx(q,{sx:{color:"#03911A"}}),onClick:()=>k("activate"),children:"Activate"}),e.jsx(p,{size:"small",startIcon:e.jsx(J,{sx:{color:"#D54B4B"}}),onClick:()=>k("deactivate"),children:"Deactivate"})]}),e.jsx(i,{sx:{pb:2,px:2.5,pt:l.length>0?0:2,height:"400px",".MuiDataGrid-columnHeader":{backgroundColor:`${a.palette.colors[18]}`,display:l.length>0?"none":"block"},".MuiDataGrid-root":{borderRadius:"10px 10px 0px 0px",border:"0px !important",borderColor:"white !important","--DataGrid-rowBorderColor":"#ffffff"},".MuiDataGrid-main":{borderRadius:"10px 10px 0px 0px"},"& .MuiDataGrid-columnsContainer, .MuiDataGrid-cell":{borderBottom:"0px !important",borderTop:"0px !important"}," .MuiDataGrid-row":{border:`1px solid ${a.palette.colors[22]}`,borderRadius:"6px",my:"1px"}," .MuiDataGrid-overlay":{border:`1px solid ${a.palette.colors[22]}`,borderRadius:"6px",my:"1px"},".MuiDataGrid-columnHeaders .MuiDataGrid-scrollbarFiller":{backgroundColor:`${a.palette.colors[18]}`}," .MuiDataGrid-scrollbar":{display:"none"},".MuiDataGrid-footerContainer":{borderTop:"0px"},".MuiDataGrid-selectedRowCount":{display:"none"}},children:e.jsx(H,{columns:M,rows:v,loading:A,checkboxSelection:!0,getRowId:t=>t==null?void 0:t.insTypeId,rowSelectionModel:l,onRowSelectionModelChange:t=>j(t),slots:{baseCheckbox:K,pagination:()=>e.jsx(L,{page:u,setPage:y,pageSize:h,setPageSize:f,totalPages:R,totalRecords:T})},disableRowSelectionOnClick:!0})})]})]})})};export{Y as default};
